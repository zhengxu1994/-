## 罗马项目需求

- #### 特效播放，可以配置

  **配置一条帧时间线，每帧检测配置事件需要做什么事情直到帧时间线结束**

  - PlayerActionEvent 播放玩家动作
  - ActionEffectEvent 播放序列帧特效
  - PlayerEffectEvent 播放3d特效
  - PlayerMoveEvent 播放一些有移动ai类型的特效
  - HitEffectEvent 打击特效
  - BlackEvent 黑屏特效
  - FrameEvent 技能逻辑生效帧 

- #### 阵型配置

  - 不同名称的阵型
  - n个单位位置（记录相对于阵型中心的偏移），每个单位对应一个顺序的序号。
  - 阵型分为八个方向，每个方向下单位的位置要做旋转（以右方向为编辑方向）。

- #### 技能逻辑开发

  - 技能分为主动和被动技能
    - 主动技能分为瞬间释放技能和吟唱技能
    - 被动技能，通过trigger触发器去触发。
  - 技能最终会生成buff和effect两种类型对象。
    - effect为技能最终生成的对象，技能的具体逻辑都写在effect中。
      - 有很多effect，比如异常状态添加effect，伤害，回复，等等。
    - buff会在触发时生成对应的effect对象。
      - buff分为有时效buff和没有失效buff
  - Trigger触发器，利用事件系统，在技能和buff初始化时读取配置注册监听对应类型的事件，比如武将死亡，武将抬手，武将受伤等。
  - 技能搜索器，根据配置类型搜索对应种族，对应阵营，对应区域，对应条件的目标。

- #### 城战业务逻辑开发

  - 都是一些业务逻辑没什么好说的
  - 一个地图网格生成编辑器，生成地图势力对应的区域mesh。

- #### UI逻辑开发，项目中的ui开发流程

  - 1.在fgui编辑器内编辑ui界面
  - 2.通过fgui插件到处对应的ui包（包含资源和二进制ui界面数据）
  - 3.通过fgui导出插件生成对应ui界面的脚本（有一个初始化方法根据名称获取所有的fgui对象，**按钮，进度条，滑动条，列表，动画，控制器等一切已经编辑好的对象**）
  - 4.UIConfig 设置ui界面配置，具体可以配置ui对应的**ui包名，ui组件名称，ui类，是否全屏缩放，是否是根节点，是否带模态背景，是否开启fgui的batch合批功能，是否有top界面（通用界面，显示界面名称和玩家金钱等信息）**
  - 5.UIManager类，通过类名反射生成出对应的ui类，ui类自动绑定fgui的ui通过上面的导出操作，ui类是partical类这样可以将逻辑和自动生成的代码分割。通过类名称可以关闭界面（目前如果不是在常驻列表中的包，那么在这个包没有其他界面使用时会卸载包资源）。