### 对象池设计

##### 为什么使用对象池

- **加载可能导致卡顿**，需要大量重复创建的对象，使用对象池避免重复创建。
- **释放内存可能导致卡顿**，避免内存不断的开辟和释放，因为gc会在某个时间段或者内存不足时运行去释放没有引用的内存（这段时间会非常的消耗性能，可能会引起卡顿）。

##### 对象池存储对象和使用时机

- 存储的对象
  - 游戏中重复使用的资源（就罗马项目中来说，比如特效，2d对象，事件传递时使用的自定义参数对象）

- 使用时机
  - 如进入战斗场景在loading界面时预加载一些战斗需要使用到的资源（使用量大且资源所需加载时间较长的）
  - 如进入城战场景时在loading界面时预加载一些场景地图资源（如地块，城池，树木等）防止在滑动时因为创建资源而卡顿。
  - 



##### 对象池实现

- 对象池管理类，管理对应类型的对象池，对象池的回收，获取接口调用，销毁某个对象，销毁所有对象池。

- 对象池类，有实例化对象，释放对象，获取对象，回收对象功能

- 支持范型

- 对象继承IDisposable接口和实现析构函数

- 需不需要对象池使用场景类型？比如我战斗场景用的对象池在战斗结束后释放，但不会释放与战斗场景无关的对象池类型。

- 是否需要对已经pop出的对象保持追踪？防止忘记放回池内，在某个时间段（比如一场战斗结束）不管是不是在池内所有对象做释放处理。

  

